<wdkModel>

  <!--===========================================================================-->
  <!-- Params  -->
  <!--===========================================================================-->

  <paramSet name="geneParams">

    <!-- =================================================================== -->
    <!-- Identifiers -->
    <!-- =================================================================== -->

    <stringParam name="generic_gene_identifier" prompt="Gene ID" length="100" number="false">
      <help><![CDATA[Enter an official gene symbol, Ensembl, or Entrez Gene identifier.]]></help>
      <suggest default="%%defaultGene%%"/>
    </stringParam>

    <stringParam name="text_expression" prompt="Search for" length="500" number="false">
      <help><![CDATA[Enter a phrase to search against symbols, synonyms, and product descriptions.  Use '*' to indicate a wildcard and 'OR' to match any term.  In all other cases, the exact phrase will be matched. ]]></help>
      <suggest default="%%defaultTextExpression%%"/>
    </stringParam>

    <datasetParam name="ds_gene_identifiers" recordClassRef="GeneRecordClasses.GeneRecordClass" prompt="Genes">
      <help>
        <![CDATA[
		          Enter a list of one or more comma or new-line separated gene identifiers, or select a file to upload.
	      ]]>
      </help>
      <suggest default="EPOR,GATA1,JAK2,STAT3"/>
    </datasetParam>


    <flatVocabParam name="go_typeahead" queryRef="GeneVQ.GoTerms" prompt="Term" multiPick="true" displayType="typeAhead">

      <suggest selectMode="none" allowEmpty="false"/>
      <help>
        <![CDATA[
		          Select a GO term or identifier.  Begin typing to view and then select from a list of suggested terms.
	        ]]>
      </help>

    </flatVocabParam>

    <!-- =================================================================== -->
    <!-- Dataset Questions -->
    <!-- =================================================================== -->

    <stringParam name="fold_change" prompt="Fold Change >=" number="true">
      <help>Enter a non-negative number specifying the minimum (raw) fold change threshold.  In the result summary, fold change will be reported as positive numbers for up-regulated genes and negative numbers for down-regulated genes</help>
      <suggest default="1.5"/>
    </stringParam>

    <flatVocabParam name="regulated_dir" prompt="Direction" multiPick="false" quote="false" queryRef="GeneVQ.regulatedDirection">
      <noTranslation value="true" />
      <help>
          <![CDATA[
                    <ul>
        <li>- Select 'up-regulated' to find genes that have higher expression
        in the comparator as compared to the reference.</li><br>
        <li>- Select 'down-regulated' to find genes that have lower expression
        in the comparator as compared to the reference.</li><br>
        <li>- Select 'up or down regulated' to find genes that have higher or
        lower expression in the comparator as compared to the reference.</li>
        </ul>
              ]]>      
        </help>
      <suggest default="up or down regulated"/>
    </flatVocabParam>


    <stringParam name="profile_type" number="false" visible="false">
    </stringParam>

    <stringParam name="minimum_percentile" number="true" prompt="Minimum expression percentile">
      <help>Lower bound on the expression percentile.</help>
    </stringParam>

    <stringParam name="maximum_percentile" number="true" prompt="Maximum expression percentile">
      <help>Upper bound on the expression percentile.</help>
    </stringParam>

    <flatVocabParam name="investigation" queryRef="GeneVQ.TranscriptomicsInvestigations" prompt="Dataset" readonly="true" multiPick="false">
      <help>The selected dataset.</help>
    </flatVocabParam>

  <flatVocabParam name="investigation_p" queryRef="GeneVQ.ProteomicsInvestigations" prompt="Dataset" readonly="true" multiPick="false">
      <help>The selected dataset.</help>
    </flatVocabParam>

    <flatVocabParam name="experiment" queryRef="GeneVQ.Experiments" dependedParamRef="geneParams.investigation" prompt="Experiment" multiPick="false">
      <help>Select an experiment from this dataset.  Datasets marked with an asterisk (*) are comprehensive and include all samples analyzed in the study.  Select the *-dataset to compare equivalent cell stages across lineages or treatments.</help>
    </flatVocabParam>

    <flatVocabParam name="experiment_p" queryRef="GeneVQ.ProteomicsExperiments" prompt="Experiment" multiPick="false">
      <help>Select an experiment from this dataset.  Datasets marked with an asterisk (*) are comprehensive and include all samples analyzed in the study.  Select the *-dataset to compare equivalent cell stages across lineages or treatments.</help>
    </flatVocabParam>


    <flatVocabParam name="transcriptomics_ref_condition" queryRef="GeneVQ.TranscriptomicsRefConditions" prompt="Reference Condition" displayType="checkBox" 
    dependedParamRef="geneParams.investigation,geneParams.experiment" multiPick="false">
      <help>Select a reference condition for the comparison.</help>
    </flatVocabParam>


    <flatVocabParam name="transcriptomics_alt_condition" queryRef="GeneVQ.TranscriptomicsAltConditions" prompt="Alt Condition" 
    dependedParamRef="geneParams.investigation,geneParams.experiment,geneParams.transcriptomics_ref_condition" displayType="checkBox" multiPick="false">
      <help>Select an alternative condition for the comparison.</help>
    </flatVocabParam>

    <flatVocabParam name="sample" queryRef="GeneVQ.Sample" prompt="Sample" displayType="checkBox" dependedParamRef="geneParams.investigation,geneParams.experiment" multiPick="true">
      <help>Select one or more samples. If multiple samples are selected, will return the greatest level of expression among the selected samples.</help>
    </flatVocabParam>

    <flatVocabParam name="comparison" queryRef="GeneVQ.ProteomicsComparisons" prompt="Comparisons" dependedParamRef="geneParams.experiment_p" multiPick="false">
      <help>Select a comparison.</help>
    </flatVocabParam>

  </paramSet>
</wdkModel>
